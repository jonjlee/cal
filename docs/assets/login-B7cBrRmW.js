import{q as s,r as n,j as i,u as t}from"./db-D8_GdIWr.js";const a="Error registering user. Please contact administrator.",o="Password should be at least 6 characters and numbers.",l='User already exists. <a href="#" onclick="loginEmail.value = registerEmail.value; loginTab.click(); loginPassword.focus();">Login instead.</a>';document.on("DOMContentLoaded",()=>{loginEmail.on("keypress",s(loginPassword)),loginPassword.on("keypress",n(loginBtn)),loginBtn.on("click",d),registerName.on("keypress",s(registerEmail)),registerEmail.on("keypress",s(registerPassword)),registerPassword.on("keypress",n(registerBtn)),registerBtn.on("click",g)});function d(){loginInfoAlert.classList.remove("d-none"),loginErrorAlert.classList.add("d-none"),i.signInWithPassword({email:loginEmail.value,password:loginPassword.value}).then(async({data:r,error:e})=>{e?(loginInfoAlert.classList.add("d-none"),loginErrorAlert.classList.remove("d-none"),(e==null?void 0:e.message)!="Invalid login credentials"&&console.log(e)):(await t()).count?window.location.href="./cal.html":window.location.href="./dept.html"})}function g(){registerInfoAlert.classList.remove("d-none"),registerErrorAlert.classList.add("d-none"),i.signUp({email:registerEmail.value,password:registerPassword.value,options:{data:{name:registerName.value}}}).then(async({data:r,error:e})=>{e?(registerInfoAlert.classList.add("d-none"),registerErrorAlert.classList.remove("d-none"),registerErrorAlert.innerText=a,e.__isAuthError&&(e.code=="weak_password"?registerErrorAlert.innerText=o:e.message=="User already registered"?registerErrorAlert.innerHTML=l:e.message&&(registerErrorAlert.innerText=e.message)),console.log(e)):window.location.href="./dept.html"})}
